[toc]
---
# 前言
&nbsp;&nbsp;&nbsp;&nbsp;协程（Coroutine）是一种"轻量级线程, 用户态线程"，允许在执行过程中暂停和恢复执行，从而实现更加灵活的控制流程。与线程不同，协程在用户空间由程序自身调度，不需要操作系统的调度器介入, 我们使用ucontext实现一个简单的协程类
# 协程基础知识
## 协程上下文
&nbsp;&nbsp;&nbsp;&nbsp;协程则可以执⾏到⼀半就退出（称为yield），但此时协程并未真正结束，只是暂时让出CPU执⾏权，在后⾯适当的时机协程可以重新恢复运⾏（称为resume），在这段时间⾥其他的协程可以获得CPU并运⾏, 协程能够半路yield、再重新resume的关键是协程存储了函数在yield时间点的执⾏状态，这个状态称为协程上下⽂